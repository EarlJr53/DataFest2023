---
title: "Anna exploration"
output: html_document
date: "2023-04-14"
---

```{r}
library(tidyverse)
library(ggplot2)
```

```{r}
  # data on voleteer atorneys
attorneys_data <- read_csv("data/DataFest_2023_Data/attorneys.csv")
  # time sheet data 
attorneytimeentries <- read_csv("data/DataFest_2023_Data/attorneytimeentries.csv")
  # client 
clients <- read_csv("data/DataFest_2023_Data/clients.csv")

questionposts <- read_csv("data/DataFest_2023_Data/questionposts.csv")

questions <- read_csv("data/DataFest_2023_Data/questions.csv")

##

statesites <- read_csv("data/DataFest_2023_Data/statesites.csv")

  # Legal Services Corporation universal catagories for all states
categories <- read_csv("data/DataFest_2023_Data/categories.csv")
  # subcatagories spesific to states
subcategories <- read_csv("data/DataFest_2023_Data/statesites.csv")
```

```{r}
questionposts %>%
  filter(str_detect(PostText, "transgender")) %>%
  left_join(questions, by = "QuestionUno") %>%
  group_by(Category, Subcategory) %>%
  summarize()

```

```{r}
questions%>% 
  filter(StateAbbr=='MA') %>% 
  count(Subcategory) %>% 
  arrange(desc(n))

questions%>% 
  count(Subcategory) %>% 
  arrange(desc(n))
```

```{r}
questions%>% 
  filter(StateAbbr=='MA') %>% 
  count(Category) %>% 
  arrange(desc(n))

attorneys_data %>% 
  group_by(StateAbbr) %>% 
  count() %>% 
  arrange(desc(n))
```

Explore state income cut off qualifications

```{r}
statesites %>% 
  arrange(desc(BaseIncomeLimit))

statesites %>% 
  arrange(desc(IncomeMultiplier))

statesites %>% 
  arrange(desc(AllowedAssets))

statesites %>% 
  filter(StateAbbr=='PA')
```

```{r}
questions%>% 
  filter(StateAbbr=='TX', ) %>% 
  count(Subcategory) %>% 
  arrange(desc(n))
```
